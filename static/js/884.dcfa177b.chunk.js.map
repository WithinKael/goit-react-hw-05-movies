{"version":3,"file":"static/js/884.dcfa177b.chunk.js","mappings":"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","sources":["api.js","pages/MovieDetails.jsx","webpack://react-homework-template/./src/pages/css/Pages.module.css?ae55"],"sourcesContent":["// 'tranding' 'https://api.themoviedb.org/3/trending/all/day?language=en-US&api_key=ffcb5f8bb28c38ae40b5cc0ef24c94f1';\n// 'search'  'https://api.themoviedb.org/3/search/movie?query=&include_adult=false&language=en-US&page=1&api_key=ffcb5f8bb28c38ae40b5cc0ef24c94f1'\n\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const getTrending = async () => {\n  const { data } = await axios.get('trending/all/day', {\n    params: {\n      language: 'en-US',\n      api_key: 'ffcb5f8bb28c38ae40b5cc0ef24c94f1',\n    },\n  });\n  return data;\n};\n\nexport const getSearch = async query => {\n  const { data } = await axios.get('search/movie', {\n    params: {\n      query: `${query}`,\n      include_adult: false,\n      page: 1,\n      language: 'en-US',\n      api_key: 'ffcb5f8bb28c38ae40b5cc0ef24c94f1',\n    },\n  });\n  return data;\n};\n\nexport const getMovieDetails = async movieId => {\n  const { data } = await axios.get(`movie/${movieId}`, {\n    params: {\n      language: 'en-US',\n      api_key: 'ffcb5f8bb28c38ae40b5cc0ef24c94f1',\n    },\n  });\n  return data;\n};\n\nexport const getMovieCredits = async movieId => {\n  const { data } = await axios.get(`movie/${movieId}/credits`, {\n    params: {\n      language: 'en-US',\n      api_key: 'ffcb5f8bb28c38ae40b5cc0ef24c94f1',\n    },\n  });\n  return data;\n};\n\nexport const getMovieReviews = async movieId => {\n  const { data } = await axios.get(`movie/${movieId}/reviews`, {\n    params: {\n      language: 'en-US',\n      api_key: 'ffcb5f8bb28c38ae40b5cc0ef24c94f1',\n    },\n  });\n  return data;\n};\n","import React, { Suspense, useRef, useState, lazy } from 'react';\nimport {\n  Link,\n  NavLink,\n  Route,\n  Routes,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport { Hourglass } from 'react-loader-spinner';\nimport { getMovieDetails } from '../api';\nimport { useEffect } from 'react';\nimport css from './css/Pages.module.css';\n\nconst Cast = lazy(() => import('./Cast'));\nconst Reviews = lazy(() => import('./Reviews'));\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movieData, setMovieData] = useState(null);\n  const location = useLocation();\n  const backLinkRef = useRef(location?.state?.from ?? '/');\n\n  useEffect(() => {\n    if (!movieId) {\n      return;\n    }\n    const fetchMoviesById = async () => {\n      try {\n        const result = await getMovieDetails(movieId);\n        setMovieData(result);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    fetchMoviesById();\n  }, [movieId]);\n\n  const voteProcent = (movieData?.vote_average * 10).toFixed(2);\n  const genres = movieData?.genres\n    ?.map(genre => {\n      return genre.name;\n    })\n    ?.join(', ');\n\n  const releaseData = movieData?.release_date?.slice(0, 4);\n\n  return (\n    <div>\n      <Link to={backLinkRef.current} className={css.backLink}>\n        Go back\n      </Link>\n      {movieData ? (\n        <div className={css.movieDetailWrapper}>\n          <img\n            src={`https://image.tmdb.org/t/p/w342${movieData.poster_path}`}\n            alt={movieData.title}\n            className={css.imageMovieDetail}\n          />\n          <div>\n            <h1>\n              {movieData.title} ({releaseData})\n            </h1>\n            <p>User score: {voteProcent}%</p>\n            <h2>Overview</h2>\n            <p>{movieData.overview}</p>\n            <h3>Genres</h3>\n            <p>{genres}</p>\n          </div>\n        </div>\n      ) : null}\n      <div className={css.containerCast}>\n        <NavLink to=\"cast\" className={css.navlink}>\n          Cast\n        </NavLink>\n        <NavLink to=\"reviews\" className={css.navlink}>\n          Reviews\n        </NavLink>\n      </div>\n      <Suspense\n        fallback={\n          <Hourglass\n            visible={true}\n            height=\"80\"\n            width=\"80\"\n            ariaLabel=\"hourglass-loading\"\n            wrapperStyle={{\n              position: 'fixed',\n              top: '100%',\n              left: '50%',\n              transform: 'translate(-50%, -50%)',\n            }}\n            wrapperClass=\"\"\n            colors={['#306cce', '#72a1ed']}\n          />\n        }\n      >\n        <Routes>\n          <Route path=\"cast\" element={<Cast />} />\n          <Route path=\"reviews\" element={<Reviews />} />\n        </Routes>\n      </Suspense>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","// extracted by mini-css-extract-plugin\nexport default {\"titleTrending\":\"Pages_titleTrending__J2e93\",\"moviesTrandingList\":\"Pages_moviesTrandingList__q3W82\",\"moviesTitle\":\"Pages_moviesTitle__bg2+Z\",\"formSubmit\":\"Pages_formSubmit__VvIRR\",\"inputSearch\":\"Pages_inputSearch__Cjia1\",\"moviesSearchList\":\"Pages_moviesSearchList__BKY-g\",\"movieSearchLink\":\"Pages_movieSearchLink__02pZ-\",\"movieDetailWrapper\":\"Pages_movieDetailWrapper__mgk03\",\"imageMovieDetail\":\"Pages_imageMovieDetail__dvIJl\",\"backLink\":\"Pages_backLink__RTZK5\",\"navlink\":\"Pages_navlink__oTR+i\",\"containerCast\":\"Pages_containerCast__5Md-Z\",\"castList\":\"Pages_castList__SyDFZ\",\"CastItem\":\"Pages_CastItem__9JKHm\",\"imageCast\":\"Pages_imageCast__3tEcd\",\"reviewsList\":\"Pages_reviewsList__4zgJx\",\"dateComment\":\"Pages_dateComment__XXrY3\"};"],"names":["axios","getTrending","params","language","api_key","data","getSearch","query","include_adult","page","getMovieDetails","movieId","getMovieCredits","getMovieReviews","Cast","lazy","Reviews","useParams","useState","movieData","setMovieData","location","useLocation","backLinkRef","useRef","state","from","useEffect","fetchMoviesById","result","console","error","voteProcent","vote_average","toFixed","genres","map","genre","name","join","releaseData","release_date","slice","to","current","className","css","src","poster_path","alt","title","overview","Suspense","fallback","visible","height","width","ariaLabel","wrapperStyle","position","top","left","transform","wrapperClass","colors","path","element"],"sourceRoot":""}